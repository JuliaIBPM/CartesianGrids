<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview of staggered grids · CartesianGrids.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">CartesianGrids.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Overview of staggered grids</a><ul class="internal"><li><a class="tocitem" href="#Setting-up-field-data-1"><span>Setting up field data</span></a></li><li><a class="tocitem" href="#Index-1"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="../finitediff/">Mimetic calculus on grid data</a></li><li><a class="tocitem" href="../immersed/">Immersed data and their operations</a></li><li><a class="tocitem" href="../methods/">Index</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Overview of staggered grids</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview of staggered grids</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaIBPM/CartesianGrids/blob/master/docs/src/manual/overview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Overview-of-staggered-grids-1"><a class="docs-heading-anchor" href="#Overview-of-staggered-grids-1">Overview of staggered grids</a><a class="docs-heading-anchor-permalink" href="#Overview-of-staggered-grids-1" title="Permalink"></a></h1><p>In <code>CartesianGrids</code>, field data, such as velocity, vorticity and pressure, are stored on a staggered uniform grid. Such a grid is divided into <em>cells</em>, with <em>edges</em> (which, on a two-dimensional grid, are the same as <em>faces</em>) and <em>nodes</em> (cell centers). Nodes hold scalar-valued data. Edges, on the other hand, hold the components of vector-valued data that are normal to the respective edges; one component lies on the vertical edges, while the other is on the horizontal edges.</p><p>Furthermore, there are two different cell types: <em>primal</em> and <em>dual</em>. On the physical grid, these cell types are offset with respect to each other by half a cell spacing in each direction. In other words, the four corners of the primal (resp. dual) cell are the nodes of four dual (resp. primary) cells.</p><p>Thus, on a two-dimensional staggered grid, there are four distinct vector spaces, associated with where the data are held on the grid:</p><ul><li>dual nodes,</li><li>dual edges,</li><li>primal nodes, and</li><li>primal edges.</li></ul><p>In <code>CartesianGrids</code>, these are each distinct data types. Furthermore, the relationships between these types are defined by an underlying grid shared by all. By convention, this grid is defined by the number of dual cells <code>NX</code> and <code>NY</code> in each direction; we will often refer to it as the <em>dual grid</em>. For example, <code>Nodes{Dual,NX,NY}</code> is the type for dual node data on this grid; <code>Edges{Primal,NX,NY}</code> is the type for edge data on the primal cells within this same <code>NX</code> by <code>NY</code> dual grid. Note that, even though this latter type is parameterized by <code>NX</code> and <code>NY</code>, these values do <em>not</em> correspond to the number of primal edges in each direction on this dual grid. These values always correspond to the number of dual cells on the grid, for any data type. This makes it clear the grid is shared by all data.</p><h2 id="Setting-up-field-data-1"><a class="docs-heading-anchor" href="#Setting-up-field-data-1">Setting up field data</a><a class="docs-heading-anchor-permalink" href="#Setting-up-field-data-1" title="Permalink"></a></h2><p>Let&#39;s see an example of creating a blank set of dual node data and filling it with something:</p><pre><code class="language-julia-repl">julia&gt; w = Nodes(Dual,(5,4))
Nodes{Dual,5,4,Float64,Array{Float64,2}} data
Printing in grid orientation (lower left is (1,1))
4×5 Array{Float64,2}:
 0.0  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0

julia&gt; w .= reshape(1:20,5,4)
Nodes{Dual,5,4,Float64,Array{Float64,2}} data
Printing in grid orientation (lower left is (1,1))
4×5 Array{Float64,2}:
 16.0  17.0  18.0  19.0  20.0
 11.0  12.0  13.0  14.0  15.0
  6.0   7.0   8.0   9.0  10.0
  1.0   2.0   3.0   4.0   5.0</code></pre><p>Other data types on the same grid can be set up in similar fashion. To ensure that they have a size that is consistent with the dual node data <code>w</code>, we can use this in place of the size:</p><pre><code class="language-julia-repl">julia&gt; q = Edges(Primal,w);

julia&gt; q.u[2,3] = 1;

julia&gt; q
Edges{Primal,5,4,Float64,Array{Float64,1}} data
u (in grid orientation)
3×5 Array{Float64,2}:
 0.0  1.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0
v (in grid orientation)
4×4 Array{Float64,2}:
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0</code></pre><h2 id="Index-1"><a class="docs-heading-anchor" href="#Index-1">Index</a><a class="docs-heading-anchor-permalink" href="#Index-1" title="Permalink"></a></h2><ul></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../finitediff/">Mimetic calculus on grid data »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 31 May 2020 21:40">Sunday 31 May 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
